#include <iostream>#include <string>#include <OxSocket.h>using namespace std;using namespace OxSocket;int main(int argc, char* argv[]) {	const char EOM = '\n';	char buf = '\0';	string msg = "";	Connection * con = NULL;	TCPServerSocket sock(1234);	while (true) {		con = sock.accept();		con->setTimeout(3, 0);		msg = "";		while (0 < con->recv(&buf, sizeof(buf)) and EOM != buf) {			msg += buf;		}		cout << msg << endl;		msg += EOM;		con->send(msg.data(), msg.size());		delete con;	}	return 1;}// EOF