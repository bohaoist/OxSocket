#include <iostream> /* cout */#include <Socket.h> /* TCP/UNIXClientSocket, Connection */#include <string>   /* string */using namespace std;int main(int argc, char* argv[]) {	const char EOM = '\n';	char buf = '\0';	string msg = "";	Connection * con = NULL;	TCPServerSocket sock(1234);	while (true) {		con = sock.accept();		con->setTimeout(3, 0);		msg = "";		while (con->recv(&buf, sizeof(buf)) > 0 and buf != EOM) {			msg += buf;		}		cout << msg << "" << endl;		msg += EOM;		con->send(msg.data(), msg.size());		delete con;	} // end while	return 1;}